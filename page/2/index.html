<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <title>公孙二狗</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="大圣，此去欲何？踏南天，碎凌霄。若一去不回……？便一去不回！">
<meta property="og:type" content="website">
<meta property="og:title" content="公孙二狗">
<meta property="og:url" content="http://xtuer.github.io/page/2/index.html">
<meta property="og:site_name" content="公孙二狗">
<meta property="og:description" content="大圣，此去欲何？踏南天，碎凌霄。若一去不回……？便一去不回！">
<meta property="og:locale">
<meta property="article:author" content="公孙二狗">
<meta name="twitter:card" content="summary">
  
    <link rel="alternative" href="/atom.xml" title="公孙二狗" type="application/atom+xml">
  
  
    <link rel="icon" href="/img/dog.png">
  
  
<link rel="stylesheet" href="/css/style.css">


  <!-- <link href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"> -->
  <!-- <script src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script> -->
  <!-- <script src="//cdn.bootcss.com/require.js/2.3.6/require.min.js"></script> -->
  <link href="/css/fonts/font-awesome.min.css" rel="stylesheet">
  <script src="/js/jquery.min.js"></script>
  <script src="/js/require.min.js"></script>
  <script src="/js/main.js"></script>

  <!-- <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script> -->
  <!-- <script src="https://hm.baidu.com/hm.js?22778d8041aa1437b11529a3e87a0a12"></script> -->
<meta name="generator" content="Hexo 5.4.0"></head>


<body>
    <div id="container">
        <div class="left-col">
            <div class="content-table">Content Table</div>
            <div class="overlay"></div>

<ul class="menu">
    <!-- <li class="item"><a href="javascript:void(0)" id="baidu-search-button">百度搜索</a></li> -->
    <!-- <li class="item"><a href="javascript:void(0)" id="google-search-button">谷歌搜索</a></li> -->
    <!-- <li class="item non-index-item"><a href="javascript:void(0)" id="show-toc-button">显示目录</a></li> -->
</ul>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img src="/img/dog.png" class="js-avatar" style="width: 100%;height: 100%;opacity: 1;">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/all/">公孙二狗</a></h1>
		</hgroup>
		<p style=" margin-bottom: 10px;margin-top: -5px;">
			<a style="color: gray;" target="_blank" rel="noopener" href="http://wpa.qq.com/msgrd?v=3&uin=26664141&site=qq&menu=yes">QQ: 26664141</a>
		</p>

		
		<p class="header-subtitle">大圣，此去欲何？踏南天，碎凌霄。若一去不回……？便一去不回！</p>
		
		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-ribbon" data-idx="1">
							<div class="ribbon"></div>
						</div>
						<div class="icon-wrap icon-house hide" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						
						<div class="icon-wrap icon-link hide" data-idx="2">
							<div class="loopback_l"></div>
							<div class="loopback_r"></div>
						</div>
						
						
						<div class="icon-wrap icon-me hide" data-idx="3">
							<div class="user"></div>
							<div class="shoulder"></div>
						</div>
						
					</div>

				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>Tags</li>
						<li>Menu</li>
						
						<li>Links</li>
						
						
						<li>About</li>
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				
				<section class="switch-part switch-part1">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/Ajax/" style="font-size: 10.59px;">Ajax</a> <a href="/tags/Cas/" style="font-size: 12.35px;">Cas</a> <a href="/tags/DB/" style="font-size: 15.29px;">DB</a> <a href="/tags/FE/" style="font-size: 20px;">FE</a> <a href="/tags/Go/" style="font-size: 10px;">Go</a> <a href="/tags/Gradle/" style="font-size: 14.12px;">Gradle</a> <a href="/tags/Hexo/" style="font-size: 12.35px;">Hexo</a> <a href="/tags/Index/" style="font-size: 12.94px;">Index</a> <a href="/tags/Java/" style="font-size: 19.41px;">Java</a> <a href="/tags/Mac/" style="font-size: 17.65px;">Mac</a> <a href="/tags/Misc/" style="font-size: 17.06px;">Misc</a> <a href="/tags/PHP/" style="font-size: 11.18px;">PHP</a> <a href="/tags/Qt/" style="font-size: 18.24px;">Qt</a> <a href="/tags/QtBook/" style="font-size: 18.82px;">QtBook</a> <a href="/tags/Redis/" style="font-size: 11.18px;">Redis</a> <a href="/tags/SemanticUi/" style="font-size: 14.12px;">SemanticUi</a> <a href="/tags/Spring/" style="font-size: 11.76px;">Spring</a> <a href="/tags/SpringBoot/" style="font-size: 13.53px;">SpringBoot</a> <a href="/tags/SpringCore/" style="font-size: 15.88px;">SpringCore</a> <a href="/tags/SpringMVC/" style="font-size: 14.71px;">SpringMVC</a> <a href="/tags/SpringSecurity/" style="font-size: 15.29px;">SpringSecurity</a> <a href="/tags/SpringWeb/" style="font-size: 17.06px;">SpringWeb</a> <a href="/tags/Util/" style="font-size: 17.06px;">Util</a> <a href="/tags/Vue/" style="font-size: 16.47px;">Vue</a> <a href="/tags/zTree/" style="font-size: 11.76px;">zTree</a>
                    </div>
                    <script>

                    </script>
				</section>
				

				<section class="switch-part switch-part2">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
						</div>
					</nav>
				</section>

				
				<section class="switch-part switch-part3">
					<div id="js-friends">
					
			          <a target="_blank" class="main-nav-link switch-friends-link" href="https://loadship.cn">小鱼人</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://qtnull.com/">千古</a>
			        
			        </div>
				</section>
				

				
				
				<section class="switch-part switch-part4">
				
					<div id="js-aboutme">吞风吻雨葬落日未曾彷徨，欺山赶海践雪径也未绝望，拈花把酒偏折煞世人情狂，凭这两眼与百臂或千手不能防，天阔阔雪漫漫共谁同航，这沙滚滚水皱皱笑着浪荡，贪欢一晌偏教那女儿情长埋葬。</div>
				</section>
				
			</div>
		</div>
        <div class="links-area" style="margin-top: 10px;">
            <a href="/html/tools">收藏夹 |</a>
            <a href="/qtbook">Qt 杂谈 |</a>
            <a href="/html/vue-in-action">Vue 实践</a>
            <a href="/html/spring-boot">Spring Boot |</a>
            <a href="/spring-web-index">Java Web 开发</a>
        </div>
	</header>
</div>

<script>
    $(document).ready(function() {
        // Baidu 搜索
        // $('#baidu-search-button').click(function(event) {
        //     layer.prompt({title: false, formType: 0, closeBtn: 0, maxlength: 140}, function(text, index) {
        //         layer.close(index);
        //         window.open('https://www.baidu.com/s?wd=site:qtdebug.com+'+text);
        //     });
        // });
        //
        // // Google 搜索
        // $('#google-search-button').click(function(event) {
        //     layer.prompt({title: false, formType: 0, closeBtn: 0, maxlength: 140}, function(text, index) {
        //         layer.close(index);
        //         window.open('https://www.google.com/?#q=site:qtdebug.com+'+text);
        //     });
        // });
    });

    function resetTags() {
		var tags = $(".tagcloud a");
		tags.css({"font-size": "12px"});
		for(var i=0,len=tags.length; i<len; i++){
			var num = tags.eq(i).html().length % 5 +1;
			tags[i].className = "";
			tags.eq(i).addClass("color"+num);
		}
    }

    resetTags();
</script>

        </div>
        <div class="mid-col">
            <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide"></h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
			
				<img src="/img/dog.png" class="js-avatar" style="width: 100%;height: 100%;opacity: 1;">
			
			</div>
			<hgroup>
			  <h1 class="header-author"></h1>
			</hgroup>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
				</div>
			</nav>
		</header>				
	</div>
</nav>

            <div class="body-wrap">
  
    <!-- 生成目录 -->


<article id="post-fe-axios-rest-fluent" class="article article-type-post" itemscope itemprop="blogPost">
    <!--  -->

    
        <div class="article-meta">
            <a href="/fe-axios-rest-fluent/" class="article-date">
  	<!-- <time datetime="2021-10-24T14:18:42.000Z" itemprop="datePublished">2021-10-24</time> -->
    2021-10-24
</a>

        </div>
    

    
        <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/fe-axios-rest-fluent/">Axios 的 REST 封装 (Fluent 风格)</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
        
            <p>在 <a href="/fe-axios-rest/">Axios 的 REST 封装</a> 介绍了怎么封装 Axios，在这一篇文章中，使用 Fluent 风格的链式调用对 Axios 再做了一次封装，两种方式都差不多，只是风格不同，可根据自己的喜好选择一种使用。
        
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/FE/" rel="tag">FE</a></li></ul>
	</div>


      

      
        <p class="article-more-link">
          <a  href="/fe-axios-rest-fluent/#more">阅读全文</a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
  

</article>





  
    <!-- 生成目录 -->


<article id="post-content-type-prober" class="article article-type-post" itemscope itemprop="blogPost">
    <!--  -->

    
        <div class="article-meta">
            <a href="/content-type-prober/" class="article-date">
  	<!-- <time datetime="2021-10-15T13:44:05.000Z" itemprop="datePublished">2021-10-15</time> -->
    2021-10-15
</a>

        </div>
    

    
        <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/content-type-prober/">自定义 Content Type Prober</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
        
            <p>在浏览器中点击 PDF 文件的链接:</p>
<ul>
<li>在 A 网站点击 a.pdf，浏览器自动下载 a.pdf</li>
<li>在 B 网站点击 b.pdf，浏览器直接打开 b.pdf</li>
</ul>
<p>被访问都是 PDF 文件，为啥在网站 A 和在网站 B 访问时，浏览器的行为不一样，是什么东西影响它在浏览器中的行为呢？答案就是浏览器会根据响应的 <strong>Content-Type</strong> 来决定下载还是打开它们 (当然 Content-Type 的值只是一个 hit，具体的操作还是要看浏览器的实现)。</p>
<p>文件的类型非常多，怎么获取文件的 Content-Type 是什么呢？Java 1.7 提供 <code>java.nio.file.Files.probeContentType(Path path)</code> 用于尝试获取文件的 Content-Type，但发现支持的文件类型不够全面，查看方法 probeContentType 的帮助文档:</p>
<blockquote>
<p>This method uses the installed FileTypeDetector implementations to probe the given file to determine its content type. Each file type detector’s probeContentType is invoked, in turn, to probe the file type. If the file is recognized then the content type is returned. If the file is not recognized by any of the installed file type detectors then a system-default file type detector is invoked to guess the content type.</p>
<p>A given invocation of the Java virtual machine maintains a system-wide list of file type detectors. Installed file type detectors are loaded using the <strong>service-provider</strong> loading facility defined by the ServiceLoader class. Installed file type detectors are loaded using the system class loader. If the system class loader cannot be found then the extension class loader is used; If the extension class loader cannot be found then the bootstrap class loader is used. File type detectors are typically installed by placing them in a JAR file on the application class path or in the extension directory, the JAR file contains a provider-configuration <strong>file named java.nio.file.spi.FileTypeDetector in the resource directory META-INF/services</strong>, and the file lists one or more fully-qualified names of concrete subclass of FileTypeDetector that have a zero argument constructor. If the process of locating or instantiating the installed file type detectors fails then an unspecified error is thrown. The ordering that installed providers are located is implementation specific.
        
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/" rel="tag">Java</a></li></ul>
	</div>


      

      
        <p class="article-more-link">
          <a  href="/content-type-prober/#more">阅读全文</a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
  

</article>





  
    <!-- 生成目录 -->


<article id="post-java-classpath-order" class="article article-type-post" itemscope itemprop="blogPost">
    <!--  -->

    
        <div class="article-meta">
            <a href="/java-classpath-order/" class="article-date">
  	<!-- <time datetime="2021-08-09T02:18:35.000Z" itemprop="datePublished">2021-08-09</time> -->
    2021-08-09
</a>

        </div>
    

    
        <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/java-classpath-order/">Java Classpath 加载 jar 的顺序</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
        
            <p>以在 Test.java 中加载 app-1.jar 和 app-2.jar 中的类 com.xtuer.Aloha 为例演示 classpath 中 jar 被加载的顺序。</p>
<h2 id="app-1-jar-和-app-2-jar"><a href="#app-1-jar-和-app-2-jar" class="headerlink" title="app-1.jar 和 app-2.jar"></a>app-1.jar 和 app-2.jar</h2><p>创建项目，里面只有 1 个类 com.xtuer.Aloha，分别打包成 2 个版本的 jar 包:</p>
<ul>
<li>app-1.jar: 返回 Aloha-1</li>
<li>app-2.jar: 返回 Aloha-2</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xtuer;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Aloha</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Aloha-1&quot;</span>;    <span class="comment">// app-1.jar 使用</span></span><br><span class="line">        <span class="comment">// return &quot;Aloha-2&quot;; // app-2.jar 使用</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>项目的目录结构 (此 gradle 管理的 Java 项目结构仅作为参考):</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">app</span><br><span class="line"> ├── build.gradle</span><br><span class="line"> └── src</span><br><span class="line">     └── main</span><br><span class="line">         └── java</span><br><span class="line">             └── com</span><br><span class="line">                 └── xtuer</span><br><span class="line">                     └── Aloha.java</span><br></pre></td></tr></table></figure>
        
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/" rel="tag">Java</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SpringBoot/" rel="tag">SpringBoot</a></li></ul>
	</div>


      

      
        <p class="article-more-link">
          <a  href="/java-classpath-order/#more">阅读全文</a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
  

</article>





  
    <!-- 生成目录 -->


<article id="post-spring-boot-loader-path" class="article article-type-post" itemscope itemprop="blogPost">
    <!--  -->

    
        <div class="article-meta">
            <a href="/spring-boot-loader-path/" class="article-date">
  	<!-- <time datetime="2021-08-09T02:15:25.000Z" itemprop="datePublished">2021-08-09</time> -->
    2021-08-09
</a>

        </div>
    

    
        <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/spring-boot-loader-path/">Spring Boot 使用 loader.path 加载其他 jar</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
        
            <h2 id="Classpath"><a href="#Classpath" class="headerlink" title="Classpath"></a>Classpath</h2><p>可以使用 classpath 指定类加载的路径，但 classpath 的生效是有条件的:</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>classpath 生效</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>java -cp .;lib/x.jar Test</td>
<td>✔</td>
<td>运行 class</td>
</tr>
<tr>
<td>java -cp lib/x.jar -jar app.jar</td>
<td>✖</td>
<td>运行 jar</td>
</tr>
</tbody></table>
<h2 id="Loader-path"><a href="#Loader-path" class="headerlink" title="Loader.path"></a>Loader.path</h2><p>Spring Boot 程序大多是打成 jar 包，使用 <code>java -jar boot.jar</code> 的方式启动 (此时 -cp 无效)，可以使用 <strong>loader.path</strong> 指定类加载路径加载其他 jar，但 loader.path 生效是有条件的:</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>MANIFEST.MF 的 Main-Class</th>
<th>loader.path 生效</th>
<th align="center">打包配置</th>
</tr>
</thead>
<tbody><tr>
<td>java -Dloader.path=./lib -jar app.jar</td>
<td>JarLauncher</td>
<td>✖</td>
<td align="center">默认配置</td>
</tr>
<tr>
<td>java -Dloader.path=./lib -jar app.jar</td>
<td>PropertiesLauncher</td>
<td>✔</td>
<td align="center">额外配置</td>
</tr>
</tbody></table>
<blockquote>
<p>loader.path 实现了 classpath 的功能。</p>
</blockquote>
<h2 id="配置-Main-Class"><a href="#配置-Main-Class" class="headerlink" title="配置 Main-Class"></a>配置 Main-Class</h2><p>为了使用 loader.path，需要把 jar 包的 Main-Class 配置为 PropertiesLauncher，在 build.gradle 中如下配置，可参考 <a target="_blank" rel="noopener" href="https://docs.spring.io/spring-boot/docs/current/gradle-plugin/reference/htmlsingle/#packaging-executable.configuring.properties-launcher">Using the PropertiesLauncher</a>:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">bootJar &#123;</span><br><span class="line">    manifest &#123;</span><br><span class="line">        attributes <span class="string">&#x27;Main-Class&#x27;</span>: <span class="string">&#x27;org.springframework.boot.loader.PropertiesLauncher&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="LaunchedURLClassLoader"><a href="#LaunchedURLClassLoader" class="headerlink" title="LaunchedURLClassLoader"></a>LaunchedURLClassLoader</h2><p>无论启动类是 JarLauncher 或者 PropertiesLauncher，loader.path 引入的 jar 和 Spring Boot 中 lib/*.jar  都是使用类加载器 org.springframework.boot.loader.LaunchedURLClassLoader 进行加载，也即是说他们使用的是同一个类加载器。</p>
<blockquote>
<p>注意到同一个程序，打包成不同类型时，PropertiesLauncher (20s) 比 JarLauncher (8s) 启动慢很多。 </p>
</blockquote>

        
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SpringBoot/" rel="tag">SpringBoot</a></li></ul>
	</div>


      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
  

</article>





  
    <!-- 生成目录 -->


<article id="post-spring-boot-jasypt" class="article article-type-post" itemscope itemprop="blogPost">
    <!--  -->

    
        <div class="article-meta">
            <a href="/spring-boot-jasypt/" class="article-date">
  	<!-- <time datetime="2021-08-08T02:59:02.000Z" itemprop="datePublished">2021-08-08</time> -->
    2021-08-08
</a>

        </div>
    

    
        <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/spring-boot-jasypt/">Spring Boot Jasypt</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
        
            <p>使用 <a target="_blank" rel="noopener" href="https://github.com/ulisesbocchio/jasypt-spring-boot">Jasypt</a> 加密 Spring Boot 配置中的项，例如数据库密码。详细介绍可阅读 <a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/cy31gsjRi6S4ug2RuJ1yjw">Springboot 配置文件、隐私数据脱敏的最佳实践</a> 和 <a target="_blank" rel="noopener" href="https://www.cnblogs.com/kexianting/p/11689289.html">Spring Boot 配置文件密码加密两种方案</a>。</p>
<p>本文主要介绍具体使用部分，注意 jasypt-spring-boot-starter 2.0 和 3.0 的区别。3.0 前后虽然都是使用 <strong>jasypt-1.9.3.jar</strong>，但是生成密文命令的参数有点区别:</p>
<table>
<thead>
<tr>
<th>版本</th>
<th>algorithm 默认值</th>
<th>iv-generator 默认值</th>
<th>加密命令</th>
</tr>
</thead>
<tbody><tr>
<td>2.1.2</td>
<td>PBEWithMD5AndDES</td>
<td>org.jasypt.iv.NoIvGenerator</td>
<td><em>java -cp jasypt-1.9.3.jar org.jasypt.intf.cli.JasyptPBEStringEncryptionCLI input=root password=xtuer algorithm=PBEWithMD5AndDES</em></td>
</tr>
<tr>
<td>3.0.3</td>
<td>PBEWITHHMACSHA512ANDAES_256</td>
<td>org.jasypt.iv.RandomIvGenerator</td>
<td><em>java -cp jasypt-1.9.3.jar org.jasypt.intf.cli.JasyptPBEStringEncryptionCLI input=root password=xtuer algorithm=PBEWITHHMACSHA512ANDAES_256 ivGeneratorClassName=org.jasypt.iv.RandomIvGenerator</em></td>
</tr>
</tbody></table>
<blockquote>
<p>提示:</p>
<ul>
<li>input 为要加密的内容，password 为加密的密钥</li>
<li>jasypt-1.9.3.jar 可以从 maven 或者 gradle 本地仓库中找到
        
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SpringBoot/" rel="tag">SpringBoot</a></li></ul>
	</div>


      

      
        <p class="article-more-link">
          <a  href="/spring-boot-jasypt/#more">阅读全文</a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
  

</article>





  
    <!-- 生成目录 -->


<article id="post-spring-thread" class="article article-type-post" itemscope itemprop="blogPost">
    <!--  -->

    
        <div class="article-meta">
            <a href="/spring-thread/" class="article-date">
  	<!-- <time datetime="2021-03-24T07:39:05.000Z" itemprop="datePublished">2021-03-24</time> -->
    2021-03-24
</a>

        </div>
    

    
        <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/spring-thread/">Spring 与多线程</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
        
            <h2 id="直接创建线程"><a href="#直接创建线程" class="headerlink" title="直接创建线程"></a>直接创建线程</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">thread1</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">new</span> Thread(() -&gt; &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;thread-1: &quot;</span> + i);</span><br><span class="line">                TimeUnit.SECONDS.sleep(<span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;).start();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
        
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/" rel="tag">Java</a></li></ul>
	</div>


      

      
        <p class="article-more-link">
          <a  href="/spring-thread/#more">阅读全文</a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
  

</article>





  
    <!-- 生成目录 -->


<article id="post-go-yaml" class="article article-type-post" itemscope itemprop="blogPost">
    <!--  -->

    
        <div class="article-meta">
            <a href="/go-yaml/" class="article-date">
  	<!-- <time datetime="2021-03-15T03:40:13.000Z" itemprop="datePublished">2021-03-15</time> -->
    2021-03-15
</a>

        </div>
    

    
        <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/go-yaml/">Go 使用 Yaml</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
        
            <p>使用 <a target="_blank" rel="noopener" href="https://github.com/kubernetes-sigs/yaml">kubernetes-sigs/yaml</a> 来把对象序列化为 yaml 字符串，把 yaml 字符串反序列化为 go 对象。</p>
<h2 id="简单对象"><a href="#简单对象" class="headerlink" title="简单对象"></a>简单对象</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;sigs.k8s.io/yaml&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Student <span class="keyword">struct</span> &#123;</span><br><span class="line">    Id   <span class="keyword">int</span>    <span class="string">`json:&quot;id&quot;`</span> <span class="comment">// 可以是 `yaml:&quot;id&quot;`，但大多数第三方 struct 使用 json，所以这里就不使用 yaml 了</span></span><br><span class="line">    Name <span class="keyword">string</span> <span class="string">`json:&quot;name`</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// [1] 对象序列化为 yaml 字符串</span></span><br><span class="line">    student1 := Student&#123;<span class="number">1</span>, <span class="string">&quot;Alice&quot;</span>&#125;</span><br><span class="line">    yamlBytes, _ := yaml.Marshal(student1)</span><br><span class="line">    yamlString := <span class="keyword">string</span>(yamlBytes)</span><br><span class="line">    fmt.Println(yamlString)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// [2] yaml 字符串反序列化为对象</span></span><br><span class="line">    student2 := Student&#123;&#125;</span><br><span class="line">    err := yaml.Unmarshal([]<span class="keyword">byte</span>(yamlString), &amp;student2)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// yaml 有错误时报错</span></span><br><span class="line">    <span class="keyword">if</span> (err != <span class="literal">nil</span>) &#123;</span><br><span class="line">        fmt.Println(err)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    fmt.Println(student2)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>下载 yaml:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">go mod init</span><br><span class="line">go mod download</span><br></pre></td></tr></table></figure>

<p>编译执行:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">go run test.go</span><br></pre></td></tr></table></figure>

<p>运行输出:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">id: 1</span><br><span class="line">name: Alice</span><br><span class="line"></span><br><span class="line">&#123;1 Alice&#125;</span><br></pre></td></tr></table></figure>
        
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Go/" rel="tag">Go</a></li></ul>
	</div>


      

      
        <p class="article-more-link">
          <a  href="/go-yaml/#more">阅读全文</a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
  

</article>





  
    <!-- 生成目录 -->


<article id="post-vb-centos" class="article article-type-post" itemscope itemprop="blogPost">
    <!--  -->

    
        <div class="article-meta">
            <a href="/vb-centos/" class="article-date">
  	<!-- <time datetime="2021-01-26T03:07:49.000Z" itemprop="datePublished">2021-01-26</time> -->
    2021-01-26
</a>

        </div>
    

    
        <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/vb-centos/">VirtualBox 中安装 Centos</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
        
            <p>在虚拟机中安装 CentOS，主要有以下步骤:</p>
<ul>
<li>安装 VirtualBox (简称 VB)</li>
<li>安装 CentOS</li>
<li>配置 CentOS</li>
<li>固定 IP</li>
</ul>
<h2 id="安装-VirtualBox"><a href="#安装-VirtualBox" class="headerlink" title="安装 VirtualBox"></a>安装 VirtualBox</h2><p>访问 <a target="_blank" rel="noopener" href="https://www.virtualbox.org/">https://www.virtualbox.org/</a> 下载安装即可。
        
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Misc/" rel="tag">Misc</a></li></ul>
	</div>


      

      
        <p class="article-more-link">
          <a  href="/vb-centos/#more">阅读全文</a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
  

</article>





  
    <!-- 生成目录 -->


<article id="post-axure-dialog" class="article article-type-post" itemscope itemprop="blogPost">
    <!--  -->

    
        <div class="article-meta">
            <a href="/axure-dialog/" class="article-date">
  	<!-- <time datetime="2021-01-06T03:02:22.000Z" itemprop="datePublished">2021-01-06</time> -->
    2021-01-06
</a>

        </div>
    

    
        <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/axure-dialog/">Axure 创建弹窗</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
        
            <p>Axure  创建弹窗，主要涉及以下几个方面:</p>
<ul>
<li>弹窗内容的元素放到动态面板里，这样所有元素都是动态面板的子元素，通过隐藏和显示动态面板来控制弹窗及其内容的可见性</li>
<li>弹窗在页面中是可见的，页面加载的时候隐藏弹窗，需要的时候才显示弹窗。这样编辑的时候可以看到弹窗的内容，否则就是一个黄色块，不方便编辑与查看</li>
<li>弹窗在所属页面的放置位置，不要挡住其他内容，放到页面的旁边即可</li>
<li>弹窗的动态面板居中显示 (Pin to Browser)</li>
<li>如果是需要重复使用的弹窗，可以创建为模板 (Master)，或者根据分模块的思想，也可以把弹窗直接作为 Master，然后在页面中引用</li>
</ul>
<p>下面我们实现一个如图的弹窗功能:</p>
<img src="../img/axure/login-dialog-5.png" style="max-width: 700px">
        
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Misc/" rel="tag">Misc</a></li></ul>
	</div>


      

      
        <p class="article-more-link">
          <a  href="/axure-dialog/#more">阅读全文</a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
  

</article>





  
    <!-- 生成目录 -->


<article id="post-distribute-banana" class="article article-type-post" itemscope itemprop="blogPost">
    <!--  -->

    
        <div class="article-meta">
            <a href="/distribute-banana/" class="article-date">
  	<!-- <time datetime="2021-01-03T08:45:54.000Z" itemprop="datePublished">2021-01-03</time> -->
    2021-01-03
</a>

        </div>
    

    
        <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/distribute-banana/">5 只猴子，4 只香蕉，怎么分</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
        
            <p>当你是动物饲养员，有 5 只猴子，只有 4 根香蕉时，应该怎么分？</p>
<p>这个问题看上去简单，其实可以反应到一个社会问题。</p>
<p>不信？往下看。
        
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Misc/" rel="tag">Misc</a></li></ul>
	</div>


      

      
        <p class="article-more-link">
          <a  href="/distribute-banana/#more">阅读全文</a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
  

</article>





  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/">⇠ Prev</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/48/">48</a><a class="extend next" rel="next" href="/page/3/">Next ⇢</a>
    </nav>
  

</div>
            <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                <p>Hosted by <a target="_blank" rel="noopener" href="https://github.com">Github Pages</a></p>
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> Mod
            </div>
        </div>

        <!-- 卜算子 -->
        
    </div>
</footer>

        </div>
        

<script>
	var yiliaConfig = {
		fancybox: false,
		mathjax: false,
		animate: false,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<!-- 
<script src="/js/main.js"></script>
 -->

<!--



 -->

    </div>
</body>

</html>
